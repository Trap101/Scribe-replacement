{
  "metadata": {
    "version": "1.0",
    "description": "Maps clinical attributes to UI macro categories for EPCR",
    "note": "CASMEET category is only required for hospital handoff, not scene discharge",
    "total_categories": 7,
    "last_updated": "2026-02-01"
  },
  "macro_categories": {
    "CASMEET_Primary_Survey": {
      "display_name": "CASMEET / Primary Survey",
      "description": "Hospital handoff essentials - all attributes should be completed (cardinality 1..1) if patient transported to hospital",
      "casmeet_format": {
        "C": "Callsign (vehicle/unit)",
        "A": "Age",
        "S": "Sex",
        "M": "Mechanism/Mode (injury mechanism or illness mode)",
        "E": "Examination (clinical findings)",
        "E": "Everything done (treatments provided)",
        "T": "Time (ETA)"
      },
      "required_for": "Hospital handoff only",
      "attributes": [
        "Patient Details.age",
        "Patient Details.sex",
        "Mechanism of Injury.injuryMechanism",
        "Chief Complaint.presentingComplaint",
        "AVPU Assessment.AVPUScale",
        "Airway Assessment.airwayStatus",
        "Airway Assessment.selfMaintain",
        "Breathing Assessment.respiratoryRate",
        "Pulse Oximetry.SpO2 reading",
        "Circulatory Assessment.pulseRate",
        "Circulatory Assessment.pulseRhythm",
        "Blood Pressure.systolicBP",
        "Blood Pressure.diastolicBP",
        "Glasgow Coma Scale.GCSTotal",
        "Pupil Assessment.pupilReaction",
        "Pupil Assessment.pupilEquality",
        "Body Temperature.value",
        "Skin Assessment.colour",
        "Skin Assessment.temperature"
      ]
    },
    "Incident_and_Patient_ID": {
      "display_name": "Incident & Patient ID",
      "description": "Essential incident and patient identification data",
      "attributes": [
        "Incident.transportRequestIncidentNumber",
        "Incident.incidentTime",
        "Incident.incidentDate",
        "Incident.reportedCondition",
        "Patient Details.NHSNumber",
        "Patient Details.familyName",
        "Patient Details.givenName",
        "Patient Details.title",
        "Patient Details.dateOfBirth",
        "Patient.patientIdentifier",
        "Structured Address.BUILDING NAME",
        "Structured Address.BUILDING NUMBER",
        "Structured Address.STREET OR ROAD NAME",
        "Structured Address.POST TOWN",
        "Structured Address.POSTCODE",
        "Unstructured Address.ADDRESS LINE 1",
        "Unstructured Address.ADDRESS LINE 2",
        "Unstructured Address.ADDRESS LINE 3",
        "Patient Management.Time at Patient's Side"
      ]
    },
    "The_Story": {
      "display_name": "The Story (Background)",
      "description": "Patient background, history, and presenting complaint context",
      "attributes": [
        "Chief Complaint.presentingComplaint",
        "Chief Complaint.assessmentTime",
        "Chief Complaint.pastMedicalHistory",
        "Chief Complaint.socialAndFamiliyHistory",
        "Chief Complaint.additionalInformation",
        "Known Allergy.type",
        "Current Medication.name",
        "Current Medication.dosage",
        "Current Medication.frequency",
        "Current Medication.compliance",
        "Current Medication.comments",
        "Symptom.symptomType",
        "Pain Assessment.score",
        "Pain Assessment.location",
        "Pain Assessment.nature",
        "Pain Assessment.duration",
        "Pain Assessment.headache",
        "Cardiac.chestPainOnsetDate",
        "Cardiac.chestPainOnsetTime",
        "Patient Details.ethnicGroup",
        "Patient Details.religiousAffiliation",
        "Patient Details.sexualOrientation",
        "Vulnerable Adult and Safeguarding Children.name",
        "Vulnerable Adult and Safeguarding Children.relationship",
        "Vulnerable Adult and Safeguarding Children.carer"
      ]
    },
    "Trauma_and_Specifics": {
      "display_name": "Trauma & Specifics (Protocol Engine)",
      "description": "Protocol-driven assessments, condition-specific data, and clinical decision points - where AI injects relevant checklists",
      "attributes": [
        "Assessment.aaa_risk",
        "Assessment.ectopic_risk",
        "Assessment.gi_bleed_type",
        "Assessment.dka_signs",
        "Assessment.headache_red_flags",
        "Assessment.hypothermia_severity",
        "Assessment.pe_risk_factors",
        "Assessment.pe_symptoms",
        "Assessment.massive_pe",
        "Assessment.peripheral_oedema",
        "Assessment.internal_bleeding",
        "Assessment.life_extinct_signs",
        "Assessment.life_threatening_asthma",
        "Assessment.life_threatening_chest",
        "Assessment.meningism",
        "Assessment.neurological_deficit",
        "Assessment.neurovascular_6ps",
        "Assessment.non_blanching_rash",
        "Assessment.organic_causes",
        "Assessment.organic_causes_excluded",
        "Assessment.preeclampsia_signs",
        "Assessment.recovered_to_baseline",
        "Assessment.respiratory_distress_signs",
        "Assessment.response_to_treatment",
        "Assessment.reversible_causes_considered",
        "Assessment.sepsis_criteria",
        "Assessment.severe_croup",
        "Assessment.skull_fracture_signs",
        "Assessment.spinal_risk_mechanism",
        "Assessment.spinal_tenderness",
        "Assessment.stridor_severity",
        "Assessment.thoracotomy_criteria",
        "Assessment.BM_rechecked",
        "Airway Assessment.breathing",
        "Airway Assessment.obstruction_severity",
        "Airway Assessment.protected",
        "Blood Glucose.bloodGlucose",
        "Blood Glucose.value",
        "Blood Glucose.bloodGlucoseRecheck",
        "Cardiac.cardiacArrest",
        "Cardiac.estimatedArrestTime",
        "Cardiac.witness",
        "Cardiac.adverse_features",
        "Cardiac.reversibleCausesConsidered",
        "Cardiac.traumatic_arrest_causes",
        "Convulsions.currentlySeizing",
        "Convulsions.duration",
        "ECG Interpretation.rhythm",
        "ECG Interpretation.ectopy",
        "ECG Interpretation.leadType",
        "ECG Interpretation.abnomality",
        "ECG Interpretation.interpretationTime",
        "ECG Interpretation.monitoring",
        "ECG Interpretation.performed",
        "FAST Assessment.face",
        "FAST Assessment.arm",
        "FAST Assessment.speech",
        "FAST Assessment.conclusion",
        "Falls Assessment.assessed",
        "Injury.activity",
        "Injury.bodyLocation",
        "Injury.locationType",
        "Injury.safetyEquipmentUsed",
        "Limb Injury.open_fracture",
        "Lung Fields.soundDetails",
        "Lung Fields.lungLocation",
        "Lung Fields.airEntry",
        "Lung Fields.breathSounds",
        "Lung Fields.sounds",
        "Circulatory Assessment.pulseSite",
        "Circulatory Assessment.pulseStrength",
        "Circulatory Assessment.capillaryRefill",
        "Circulatory Assessment.shock",
        "Respiratory Resistance.peakFlowReading",
        "Burn.burnSeverity",
        "Burns.cooled",
        "Burns.depth",
        "Burns.dressed",
        "Burns.entry_exit_wounds",
        "Fall.FallFromHeight",
        "Spine.status",
        "Spine.cervicalCollar",
        "Spine.immobilisationApplied",
        "Trauma.electrical_type",
        "Trauma.evisceration",
        "Trauma.mechanismOfInjury",
        "Obstetrics.breech_delivery",
        "Obstetrics.complication_type",
        "Obstetrics.cord_clamped",
        "Obstetrics.cord_prolapse_management",
        "Obstetrics.delivery_supported",
        "Obstetrics.eclamptic_seizure",
        "Obstetrics.fundal_massage",
        "Obstetrics.hemorrhage",
        "Obstetrics.history",
        "Obstetrics.imminent_delivery",
        "Obstetrics.shoulder_dystocia_management",
        "Newborn.apgar",
        "Newborn.immediate_care",
        "Mental Health.capacity",
        "Mental Health.mental_state",
        "Mental Health.risk_assessment",
        "Safeguarding.concern_type",
        "Safeguarding.concerns_raised",
        "Safeguarding.documented",
        "Safeguarding.handover_informed",
        "Safeguarding.immediate_risk",
        "Safeguarding.nai_concern",
        "Safeguarding.referral_made",
        "Toxicology.opiate_signs",
        "Toxicology.substance",
        "Resuscitation.ROLE_criteria_met",
        "Resuscitation.not_appropriate_reasons",
        "Resuscitation.responsive",
        "Resuscitation.witnessed",
        "Scene.safe",
        "Vital Signs._composite"
      ]
    },
    "Interventions": {
      "display_name": "Interventions (Action Log)",
      "description": "All treatments, procedures, and interventions performed",
      "attributes": [
        "Intervention.interventionType",
        "Intervention.interventionTime",
        "Intervention.interventionComment",
        "Intervention.interventionBy",
        "Intervention.abdominal_thrusts",
        "Intervention.active_rewarming",
        "Intervention.back_blows",
        "Intervention.burncooling",
        "Intervention.burndressing",
        "Intervention.chest_decompression",
        "Intervention.chest_seal",
        "Intervention.cooling",
        "Intervention.hemorrhage_control",
        "Intervention.passive_rewarming",
        "Intervention.splinting",
        "Drug Administration.name",
        "Drug Administration.route",
        "Drug Administration.dosage",
        "Drug Administration.batchNumber",
        "Drug Administration.effect",
        "Drug Administration.ipratropium_given",
        "Oxygen Administration.02%",
        "Oxygen Administration.type",
        "Cannulation.size",
        "Cannulation.side",
        "Cannulation.site",
        "Cannulation.outcome",
        "Cannulation.attempts",
        "Cannulation.established",
        "Cardiopulmonary Resuscitation.resuscitationAttempted",
        "Cardiopulmonary Resuscitation.returnSpontaneousCirculation",
        "Cardiopulmonary Resuscitation.CPRStart",
        "Cardiopulmonary Resuscitation.CPRStop",
        "Cardiopulmonary Resuscitation.effortsCeased",
        "Cardiopulmonary Resuscitation.CPRInProgress",
        "Cardiopulmonary Resuscitation.rescue_breaths",
        "Defibrillation.defibrillationAttempted",
        "Defibrillation.attempts",
        "Defibrillation.padsAttached",
        "Defib Shock.type",
        "Defib Shock.energy",
        "Defib Shock.energyForm",
        "Defib Shock.pacingType",
        "Airway Adjunct.type",
        "Airway Adjunct.outcome",
        "Intubation.type",
        "Intubation.technique",
        "Intubation.outcome",
        "Immobilisation.location",
        "Immobilisation.type",
        "Suction.contentsObserved",
        "Suction.catheterType",
        "Suction.totalAttempts",
        "Suction.method",
        "Suction Attempt.attemptNumber",
        "Suction Attempt.attemptOutcome",
        "Suction Attempt.attemptResponse",
        "Suction Attempt.attemptComplication",
        "Respiratory Support.type",
        "Respiratory Support.outcome",
        "Ventilation.method",
        "Treatment.treatmentType",
        "Treatment.administeredBy",
        "Treatment.comments",
        "Treatment.treatmentTime",
        "Treatment.hypoglycaemia",
        "Management.breathing_coaching",
        "Management.cooling_measures",
        "Management.de_escalation",
        "Management.encouraged_cough",
        "Management.food_given",
        "Management.gentle_handling",
        "Management.kept_calm",
        "Management.oral_glucose_given",
        "Management.packaging_brought",
        "Management.secondary_injury_prevention",
        "Management.toxbase_consulted",
        "Patient Management.positioning",
        "Body Fluid IO.fluidIO",
        "Body Fluid IO.fluidType",
        "Body Fluid IO.fluidVolume",
        "Equipment.delivery_pack",
        "Evidence.substance_packaging",
        "Safety.no_vomiting_induced",
        "Monitoring.complications"
      ]
    },
    "Outcome_and_Handoff": {
      "display_name": "Outcome & Handoff",
      "description": "Patient outcome, disposition, and clinical handover details",
      "attributes": [
        "Disposition.destinationType",
        "Disposition.destinationHealthcareProvider",
        "Disposition.CPROngoing",
        "Disposition.recipientGrade",
        "Disposition.recipientName",
        "Disposition.arrivalTime",
        "Disposition.arrivalDate",
        "Disposition.handoverDate",
        "Disposition.handoverTime",
        "Refuse Treatment.refusalType",
        "Refuse Treatment.signedBy",
        "Refuse Treatment.signedByRole",
        "Refuse Treatment.unableReason",
        "Treated on Scene.reason",
        "Treated on Scene.signedBy",
        "Treated on Scene.signedByRole",
        "Treated on Scene.unableReason",
        "Life Extinct.deathConfirmed",
        "Life Extinct.personRole",
        "Life Extinct.personName",
        "Life Extinct.reasonNotSigned",
        "Documentation.ROLE_documented",
        "Legal.coroner_referral",
        "Incident.timeLeftScene",
        "Incident.hospitalAlertSent",
        "Patient Management.Impressions",
        "Observation.observationTime",
        "Observation.observer",
        "Observation.observationComments",
        "Observation.observationType"
      ]
    },
    "Baseline_Always_Required": {
      "display_name": "Baseline Required Data",
      "description": "Always-suggest attributes regardless of protocol - essential safety and identification data",
      "note": "These should be auto-suggested when any prompt is entered, before protocol-specific attributes",
      "attributes": [
        "Patient Details.familyName",
        "Patient Details.givenName",
        "Patient Details.dateOfBirth",
        "Patient Details.age",
        "Patient Details.sex",
        "Patient Details.NHSNumber",
        "Chief Complaint.presentingComplaint",
        "Known Allergy.type",
        "Current Medication.name",
        "Current Medication.dosage",
        "Chief Complaint.pastMedicalHistory",
        "Chief Complaint.socialAndFamiliyHistory",
        "Incident.incidentTime",
        "Incident.incidentDate"
      ]
    }
  },
  "excluded_categories_metadata": {
    "description": "Categories hidden from medic UI but retained in system",
    "categories": [
      {
        "category": "Crew",
        "reason": "Handled by separate secure crew login system",
        "attributes": ["Crew.crewPin"]
      },
      {
        "category": "Dispatch",
        "reason": "System-generated dispatch data, not medic entry",
        "attributes": [
          "Dispatch.dispatchTime",
          "Dispatch.ambulanceArrivalTime",
          "Dispatch.responseMobileTime"
        ]
      },
      {
        "category": "Care Professional",
        "reason": "Administrative tracking, not clinical data entry",
        "attributes": [
          "Care Professional.role",
          "Care Professional.skillLevel",
          "Care Professional.name",
          "Care Professional.id"
        ]
      },
      {
        "category": "Educational Establishment",
        "reason": "Hidden unless searched - rarely needed",
        "attributes": [
          "Educational Establishment.relationship",
          "Educational Establishment.orgName",
          "Educational Establishment.orgAddress"
        ]
      },
      {
        "category": "GPS Coordinates",
        "reason": "Handled by separate GPS tracking system",
        "attributes": [
          "GPS Coordinates.latitude",
          "GPS Coordinates.longitude"
        ]
      },
      {
        "category": "Road Vehicle",
        "reason": "Not needed for this implementation",
        "attributes": [
          "Road Vehicle.Counterpart to crash",
          "Road Vehicle.Occupant Position",
          "Road Vehicle.Patient ejected from vehicle",
          "Road Vehicle.Vehicle Type"
        ]
      },
      {
        "category": "Provider Availability",
        "reason": "System-level admin data",
        "attributes": [
          "Provider Availability.firstChoice",
          "Provider Availability.reason",
          "Provider Availability.type"
        ]
      },
      {
        "category": "PriorityAssessment",
        "reason": "Dispatch-determined, not medic entry",
        "attributes": [
          "PriorityAssessment.conditionCatagory",
          "PriorityAssessment.urgencyCatagory",
          "PriorityAssessment.postDispatchInstructions"
        ]
      }
    ]
  },
  "usage_notes": {
    "protocol_driven_flow": "When medic enters prompt describing specific JRCalc condition, system suggests baseline attributes FIRST, then injects protocol-specific attributes from Trauma_and_Specifics category",
    "manual_search": "Medic can use dropdown macros organized by these 6 categories or semantic search to find and add any attribute",
    "auto_fill": "When protocol step includes prefill_data, system pre-populates field if medic selects that option",
    "cardinality_enforcement": "Warnings only, not blocking - allow submission with incomplete data",
    "casmeet_conditional": "CASMEET category only required if patient transported to hospital, not for scene discharge"
  }
}
